<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, viewport-fit=cover">
<title>cxCalendar 日期选择器 - 示例</title>
<link rel="stylesheet" href="../dist/css/cxcalendar.css">
<link rel="stylesheet" href="./css/demo.css">
</head>
<body>
<header>
  <div class="wrap">
    <h1>cxCalendar 日期选择器</h1>
  </div>
</header>
<div class="main">
  <div class="wrap">
    <nav>
      <a class="active" href="index.html">常规示例</a>
      <a href="range.html">范围模式</a>
      <a href="position.html">位置设定</a>
      <a href="mobile.html">移动端样式</a>
      <a href="bind.html">动态调用</a>
      <a href="api.html">API 接口</a>
      <a href="module.html">模块</a>
    </nav>

    <h2>示例</h2>

    <fieldset>
      <legend>常用</legend>
      <section>
        <label for="my_day">选择日期：</label>
        <input id="my_day" type="text" readonly>
      </section>
      <section>
        <label for="my_datetime">选择日期和时间：</label>
        <input id="my_datetime" type="text" readonly>
      </section>
      <section>
        <label for="my_year">选择年份：</label>
        <input id="my_year" type="text" readonly>
      </section>
      <section>
        <label for="my_month">选择月份：</label>
        <input id="my_month" type="text" readonly>
      </section>
      <section>
        <label for="my_time">选择时间：</label>
        <input id="my_time" type="text" readonly>
      </section>
    </fieldset>
    
    <fieldset>
      <legend>设置默认值</legend>
      <section>
        <label for="my_value_1">&lt;input&gt; 的 value</label>
        <input id="my_value_1" type="text" readonly>
      </section>
      <section>
        <label for="my_value_2">options.date</label>
        <input id="my_value_2" type="text" readonly>
      </section>
    </fieldset>

    <fieldset>
      <legend>样式</legend>
      <section>
        <label for="my_weeknum">显示周数：</label>
        <input id="my_weeknum" type="text" readonly>
      </section>
      <section>
        <label for="my_notsecs">隐藏秒数：</label>
        <input id="my_notsecs" type="text" readonly>
      </section>
    </fieldset>

    <fieldset>
      <legend>限制可选日期</legend>
      <label for="my_disabled">选择日期：</label>
      <input id="my_disabled" type="text" readonly placeholder="周末不可选">
    </fieldset>

    <div class="about">
      <section>
        <h2>文档</h2>
        <p><a target="_blank" href="https://github.com/ciaoca/cxCalendar">Github</a></p>
      </section>
      <section>
        <h2>作者</h2>
        <p><a target="_blank" href="http://ciaoca.com/">Ciaoca</a></p>
      </section>
      <section>
        <h2>协议</h2>
        <p>Released under the MIT license</p>
      </section>
    </div>
  </div>
</div>

<script src="../dist/js/cxcalendar.js"></script>
<script>
// 默认: 选择日期
cxCalendar.attach(document.getElementById('my_day'));

// 选择日期和时间
cxCalendar.attach(document.getElementById('my_datetime'), {
  type: 'datetime',
  format: 'Y-m-d H:i:s'
});

// 选择年份
cxCalendar.attach(document.getElementById('my_year'), {
  type: 'year',
  format: 'Y',
  startDate: 1949,
});

// 选择月份
cxCalendar.attach(document.getElementById('my_month'), {
  type: 'month',
  format: 'Y-m'
});

// 选择时间
cxCalendar.attach(document.getElementById('my_time'), {
  type: 'time',
  format: 'H:i:s'
});

// 设置默认值
// 通过 value 和 date 方法的差异
(function() {
  const input = document.getElementById('my_value_1');
  const date = new Date();
  date.setMonth(date.getMonth() - 1);

  input.value = [date.getFullYear(), date.getMonth() + 1, date.getDate()].join('-');
  cxCalendar.attach(input);

  cxCalendar.attach(document.getElementById('my_value_2'), {
    date: date.getTime()
  });
})();

// 显示周数
cxCalendar.attach(document.getElementById('my_weeknum'), {
  baseClass: 'has_weeknum',
  wday: 1,
});

// 隐藏秒数
cxCalendar.attach(document.getElementById('my_notsecs'), {
  type: 'datetime',
  format: 'Y-m-d H:i',
  baseClass: 'not_secs',
});

// 限制可选日期
cxCalendar.attach(document.getElementById('my_disabled'), {
  wday: 1,
  disableWeek: [0,6],
  disableDay: [
    '1',            // 每月1号
    '1-2',          // 每年1月2号
    '2021-1-3',     // 具体日期
  ]
});
</script>
</body>
</html>
